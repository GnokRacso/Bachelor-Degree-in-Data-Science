CREATE OR REPLACE TRIGGER TRG_DUPLICATE_CHECKIN
    BEFORE INSERT ON STAFF_ACTIVITY_STATUS
    FOR EACH ROW
DECLARE
    V_STAFFID STAFF.STAFFID%TYPE;
BEGIN
    SELECT STAFFID INTO V_STAFFID
    FROM STAFF_ACTIVITY_STATUS
    WHERE STAFFID = :NEW.STAFFID AND 
          WORKDATE = :NEW.WORKDATE;

    RAISE_APPLICATION_ERROR(-20101, 'STATUS for ' || V_STAFFID || ' DUPLICATED!');

EXCEPTION
    WHEN NO_DATA_FOUND THEN 
        DBMS_OUTPUT.PUT_LINE('Record added SUCCESSFULLY ~ ~');

END;
/